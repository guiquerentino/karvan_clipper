FUNCTION C_PECAS

MCODPECA=SPACE(05)
MCODPECA2=SPACE(05)
@ 11,21 SAY "DIGITE N§ DO PECA:" GET MCODPECA PICT "@!"
@ 13,21 SAY "DIGITE N§ DO ALTERACAO:" GET MCODPECA2 PICT "@!"
READ
PECAS()
ORDSETFOCUS("CODPECA")
SEEK MCODPECA
if ! found()
	ALERT ('PECA NAO ENCONTRADA !!!')
	RETURN
ENDIF
MCODBARRA=CODBARRA
MNFABRIC3=NFABRIC
MFABRIC3=FABRIC
SEEK MCODPECA2
BLOQUEIO()
REPLACE CODBARRA2 WITH MCODBARRA
REPLACE NFABRIC3 WITH MNFABRIC3
REPLACE FABRIC3 WITH MFABRIC3
COMMIT
UNLOCK
PEDCUP()
ORDSETFOCUS("PEDCOD")
DO WHILE ! EOF()
       SEEK MCODPECA
       IF ! FOUND()
                EXIT
       ENDIF
       BLOQUEIO()
       REPLACE PEDCOD WITH MCODPECA2
       COMMIT
       UNLOCK
ENDDO
